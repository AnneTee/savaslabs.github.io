/**
 * @file
 *
 * Styles for /our-work, and case study and portfolio pages.
 */

// Simple portfolio pages.
.portfolio {
  @include outer-container;
  @include media($large-screen-up) {
    @include span-columns(8);
    @include shift(2);
  }
}

.portfolio-details,
.case-study__details {
  overflow: hidden;

  table {
    margin-bottom: $base-margin;
    margin-top: $base-margin;
  }
}

// Case study pages.
.case-study {
  clear: both;

  .case-study__header {
    @include display(flex);
    @include justify-content(space-around);
    @include align-items(center);

    background-position: top center;
    background-repeat: no-repeat;
    background-size: cover;

    height: 88vh;

    // On medium screens, change height to account for menu height.
    @include media($horizontal-bar-mode) {
      height: 78vh;
    }

    // On large screens, adjust height to account for menu height.
    @include media($large-screen-up) {
      height: 88vh;
    }

    .case-study__header__text {
      padding: 1em;

      @include media($medium-screen-up) {
        width: 80%;
      }

      @include media($large-screen-up) {
        width: 60%;
      }

      h1 {
        color: $base-background-color;
        font-size: 2em;
        margin-bottom: 1em;

        @include media($medium-screen-up) {
          font-size: 2.5em;
        }
      }

      p,
      .case-study__header__link {
        color: $base-background-color;
        font-size: 1.25em;
        font-weight: bold;
      }

      .case-study__header__link {
        @extend %button-outline;

        display: inline-block;
        margin-top: $base-spacing;
      }
    }
  }

  .wrapper {
    padding: 0;
  }

  p {
    font-size: 1.2em;
    margin-bottom: 0;
  }

  .case-study__client {
    background-color: lighten($light-gray, 10);
    padding: $base-margin $base-spacing;

    .wrapper {
      @include display(flex);
      @include justify-content(space-between);
      @include align-items(center);
      @include flex-wrap(wrap);

      @include media($medium-screen-up) {
        @include flex-wrap(nowrap);
      }

      .case-study__client__logo {
        display: block;
        margin: 0 auto $base-spacing;

        @include media($medium-screen-up) {
          margin: 0 $base-margin 0 0;
        }
      }
    }
  }

  .case-study__content {
    padding: $base-spacing 0;

    @include media($medium-screen-up) {
      @include display(flex);
      @include align-items(center);

      padding: 0;
    }

    .case-study__content__text,
    .case-study__square-image {
      @include media($medium-screen-up) {
        width: 50%;
      }
    }

    .case-study__square-image {
      img {
        display: block;
        height: auto;
      }
    }

    .case-study__content__text {
      h2 {
        font-size: 1.8em;
        margin-bottom: 0;
        text-align: center;

        @include media($medium-screen-up) {
          font-size: 2em;
          padding: .75em 3em .75em 1em;
          text-align: left;
        }
      }

      p {
        padding: 1.667em;
      }
    }

    &.case-study__content--objective {
      h2 {
        color: $fuschia;
      }
    }

    &.case-study__content--process {

      .case-study__content__text--process {
        @include order(2);

        h2 {
          color: $dark-blue;

          @include media($medium-screen-up) {
            padding-left: 3em;
            padding-right: 1em;
            text-align: right;
          }
        }

        p {
          @include media($medium-screen-up) {
            text-align: right;
          }
        }
      }
    }

    &.case-study__content--results {
      padding-bottom: 0;

      h2 {
        color: $teal;
      }
    }
  }

  .case-study__square-image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;

  }

  .case-study__client-quote {
    background-color: lighten($light-gray, 10);
    margin-bottom: $base-spacing * 2;
    padding: $base-spacing;

    @include media($medium-screen-up) {
      padding: $base-spacing $base-margin;
    }

    @include media($large-screen-up) {
      padding: $base-spacing $base-margin * 2;
    }

    .case-study__client-quote__quote {
      font-style: normal;
    }

    .case-study__client-quote__attribution {
      display: block;
      margin-bottom: 0;
      margin-top: .5em;
      text-align: center;
    }
  }

  .case-study__details {
    @include media($medium-screen-up) {
      @include span-columns(8);
      @include shift(2);

      td {
        font-size: 1.2em;
      }
    }

    ul {
      margin-bottom: 0;
      margin-left: 1em;
    }
  }

  .case-study__bottom {
    background-color: lighten($light-gray, 10);
    clear: both;
    padding: 2.5em 0;
    text-align: center;

    .case-study__contact {
      @include display(flex);
      @include justify-content(center);
      @include align-items(center);
      @include flex-wrap(wrap);

      margin-bottom: $base-margin;

      h3,
      a {
        margin: .5em;
      }

      a {
        @extend %button;
      }
    }
  }
}
